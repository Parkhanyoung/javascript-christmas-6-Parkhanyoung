# 우아한테크코스 4주차 과제 - 크리스마스 프로모션 🎄  
  
<p align="center"><img src="./images/christmas-promotion.png" width="50%"></p>

## 프로젝트 소개  
  
### 프로젝트 배경  
본 프로젝트는 우아한 테크코스 프리코스의 일환으로 개발되었습니다. 현재 저는 단위 테스트 작성과 핵심 우선순위에 따른 구현을 연습 중입니다. 또한 지난 주차 과제에 이어서 객체지향적으로 코드를 작성하여 유지보수 및 협업이 용이한 코드를 작성하기 위해 노력하고 있습니다. 본 프로젝트에는 이러한 교육 목적이 담겨 있으며, 미숙한 부분이 포함되어 있을 가능성이 높습니다. 만약 제 코드에서 개선점이나 안티 패턴을 발견하신다면 가감없이 전해주세요. 제게 큰 도움이 될 것 같습니다 🙂  
    
### 프로젝트 소개   
이 프로젝트는 크리스마스 프로모션 계산기입니다. 12월 우테코 식당에서 개최하는 크리스마스 이벤트로부터 얻을 수 있는 혜택을 미리 계산하여 조회할 수 있습니다. 사용자는 식당을 이용할 날짜를 입력합니다. 그 후 메뉴와 메뉴 수를 입력합니다. 그 후 결제 금액과 할인 혜택이 콘솔 창에 출력됩니다.  
  
### 기술 스택
Vanilla Javascript로 구현되었으며, 외부 패키지로는 @woowacourse/mission-utils가 활용되었습니다.  
  
### 프로그램 사용법    
1) ```npm install``` 커맨드를 이용하여 패키지를 설치합니다.  
2) 프로젝트의 최상위 경로 기준, ```node ./src/index.js``` 커맨드를 이용하여 프로그램을 실행합니다.  
3) 식당 이용 날짜를 입력합니다.  
   * 이벤트는 12월에 한정되므로 별도로 월을 입력하시지 않아도 됩니다. 
   * 1 ~ 31 사이의 숫자여야 합니다.    
4) 주문 메뉴와 메뉴 수를 "${메뉴 명}-${메뉴수}" 형태로 입력합니다.  
   * 입력 형식에 맞게 입력해야 합니다.  
   * 아래에서 제시되는 메뉴판에 포함된 메뉴명을 입력해야 합니다.   
   * 총 주문 메뉴 수는 20개를 초과할 수 없습니다.  
   * 음료만 주문할 수 없습니다.   
5) 출력되는 결제 금액 및 혜택 결과를 조회합니다.  
   * 총 주문 금액 10,000원 이상부터 혜택을 받을 수 있습니다.  
  
**메뉴판**  
```
<애피타이저>
양송이수프(6,000), 타파스(5,500), 시저샐러드(8,000)

<메인>
티본스테이크(55,000), 바비큐립(54,000), 해산물파스타(35,000), 크리스마스파스타(25,000)

<디저트>
초코케이크(15,000), 아이스크림(5,000)

<음료>
제로콜라(3,000), 레드와인(60,000), 샴페인(25,000)
```

**이벤트 종류**  
총 6개의 이벤트를 진행합니다. 모든 이벤트를 중복 적용받을 수 있습니다!  
* 크리스마스 디데이 할인 이벤트: 크리스마스를 맞아 할인을 진행합니다. 1,000원으로 시작하여 크리스마스가 다가올수록 날마다 할인 금액이 100원씩 증가하며 총 주문 금액에 대해 할인이 적용됩니다.  
* 평일 할인 이벤트: 평일에는 디저트 메뉴를 할인 받을 수 있습니다. 디저트 메뉴 1개당 2,023원 할인이 적용됩니다.  
* 주말 할인 이벤트: 주말에는 메인 메뉴를 할인 받을 수 있습니다. 메인 메뉴 1개당 2,023원 할인이 적용됩니다.  
* 특별 할인 이벤트: 일요일, 크리스마스 당일에는 특별 할인이 적용됩니다. 총 주문 금액에서 1,000원이 할인됩니다.  
* 증정 이벤트: 할인 전 총 주문 금액이 120,000원 이상인 경우 25,000원 상당의 샴페인이 무료 제공됩니다.  
* 배지 증정 이벤트: 총 혜택 금액에 따라 뱃지를 증정합니다. 이 뱃지는 새해 이벤트 참여 시 각각 다른 선물로 교환할 수 있습니다. (5천원 이상: 별 / 1만원 이상: 트리 / 2만원 이상: 산타)  
  
## 개발 명세  
  
### 학습 목표   
1. 클래스 및 객체 분리  
   * 클래스의 역할과 책임에 대한 고민  
   * 도메인 로직과 UI 로직의 철저한 분리  
2. 단위 테스트 작성  
   * 테스트 코드도 코드다(리팩토링하기)  
   * 성공/예외 케이스 모두 테스트하기  
   * 테스트하기 쉬운 코드 고민하기(추가 분리)  
3. 예외 상항에 대한 고민   
4. 객체를 객체스럽게 사용하기   
   * 메시지를 보내는 방식으로 소통하기     
   * 필드 수를 줄이기   
5. 최소한의 핵심 기능을 수행하는 동작 가능한 프로그램 만들기(핵심부터 공들이기)    
   * 핵심 기능을 한 줄로 정의   
   * 기능 리스팅  
   * 구현 우선순위 정렬  
   * 기능 추가 시 단위 테스트 작성  

### 구현 사항  
**핵심 기능 정의**   
날짜와 메뉴에 따른 크리스마스 프로모션 적용 내역을 계산한다.   
   
### 우선순위에 따른 TODO 리스트  
- [x] 이벤트 적용 내역 계산 기능  
  - [x] 크리스마스 디데이 할인액 계산  
  - [x] 평일/주말 할인액 계산  
  - [x] 특별 할인액 계산  
  - [x] 증정 배지 유형 계산   
  - [x] 샴페인 증정 여부 계산   
- [x] 주문 내역 정리  
  - [x] 주문 메뉴 개수 정리  
  - [x] 카테고리 별 주문 메뉴 수 정리  
  - [x] 총 금액 계산  
- [x] 날짜 입력값 유효성 검증 및 파싱    
- [x] 주문 입력값 파싱  
- [x] 이벤트 정책 적용  
- [x] 이벤트 정책 적용 결과 정리  
- [x] 사용자 입력 받기  
  - [x] 날짜 입력  
  - [x] 메뉴 입력  
- [x] 이벤트 적용 내역 출력  
  - [x] 주문 메뉴  
  - [x] 할인 전 총주문 금액  
  - [x] 혜택 내역  
  - [x] 총혜택 금액  
  - [x] 할인 후 예상 결제 금액   
  - [x] 이벤트 배지 증정 내역  
- [x] 전체 로직 연결  
- [x] 입력 과정에서 에러 발생 시 재입력받기  
- [x] 리팩토링  
    
### 추가 구현 및 수정 사항  
- [x] Promotion -> Event / Event -> Giving으로 네이밍 변경  
- [x] Receipt의 증정품 증정 관련 로직을 최대한 캡슐화해보기  
- [x] 메소드 및 변수명 체크  
- [x] 메소드 선언 순서 점검  
- [x] 지금까지의 피드백 기반 점검   
- [x] README에 프로젝트 소개 추가   
  
### 구현 세부 사항  
**프로그램 실행 순서에 따른 기능 리스팅**  
- [x] 방문 날짜 입력 받기  
  - [x] 방문할 날짜는 1 이상 31 이하의 숫자로만 입력받아 주세요.  
  - [x] 1 이상 31 이하의 숫자가 아닌 경우 예외 처리  
- [x] 메뉴 및 메뉴 개수 입력 받기  
  - [x] 고객이 메뉴판에 없는 메뉴를 입력하는 경우 예외 처리  
  - [x] 메뉴의 개수는 1 이상의 숫자만 입력되도록 검증  
  - [x] 메뉴 형식이 예시와 다른 경우 예외 처리  
  - [x] 중복 메뉴를 입력한 경우 예외 처리   
- [x] 이벤트 적용 사항 계산   
  - [x] 크리스마스 할인  
  - [x] 평일/주말 할인    
  - [x] 특별 할인  
  - [x] 증정 이벤트  
  - [x] 배지 부여 이벤트  
- [x] 결과 출력 (해당 사항 없으면 "없음" 출력)  
  - [x] 주문 메뉴  
  - [x] 할인 전 총주문 금액  
  - [x] 증정 메뉴  
  - [x] 혜택 내역  
  - [x] 총혜택 금액  
  - [x] 할인 후 예상 결제 금액   
  - [x] 이벤트 배지  
  
**이벤트 정책**  
- 크리스마스 디데이 할인: 총 주문 금액에서 할인. 할인액은 12월 1일 1000원에서 시작하여 12월 25일까지 100원씩 증가됨.    
- 데일리 할인    
  - 평일 할인 (일 ~ 목): 디저트 메뉴를 1개당 2023원 할인    
  - 주말 할인 (금, 토): 메인 메뉴를 1개당 2023원 할인   
- 특별 할인: 일요일과 크리스마스일에는 총 주문 금액에서 1000원 할인   
- 증정 이벤트: 할인 전 총 주문 금액이 12만원 이상일 경우 샴페인 1개 증정    
- 배지 부여 이벤트: 총 혜택(증정 + 할인) 금액에 따른 배지 부여  
  * 5천원 이상: 별  
  * 1만원 이상: 트리   
  * 2만원 이상: 산타  
    
**추가 검증 사항**  
- [x] 10,000원 이상이어야 이벤트 혜택을 받을 수 있다.  
- [x] 음료만 주문할 수 없다.    
- [x] 메뉴는 한번에 21개 이상 주문할 수 없다.     